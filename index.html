<!DOCTYPE html>
<html>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>

<script>
  var initialCount = 60;

  var t, s, count;

  var beep = new Audio('beep.wav');

  count = initialCount

  $(document).click(function() {
    count = initialCount
    clearTimeout(t)
    clearTimeout(s)
    beep.pause()
    countdown()
  });

  // beep.addEventListener('ended', function() {
  //   if (count == 0)
  //     beep.play();
  // });

  function playSound() {
    beep.play()
    s = setTimeout(playSound, 5000);
  }

  function countdown() {
    document.getElementById('timespan').innerHTML = count;
    if (count == 0) {
        playSound();
    }
    else {
      count--;
      if(count % 15 == 0){
        beep.play()
      }
      t = setTimeout("countdown()", 1000);
    }
  };

  function increase60() {
    initialCount = 60
  }

  function increase90() {
    initialCount = 90
  }

  function increase120() {
    initialCount = 120
  }
</script>

<body id="mybody" onload="countdown()">
  <p id="timespan" style="text-align: center;  font-size: 350px;"></p>
  <input type="button" value="60" onclick="increase60()" style="font-size : 200px; height:300px; width:300px">
  <input type="button" value="90" onclick="increase90()" style="font-size : 200px; height:300px; width:300px">
  <input type="button" value="120" onclick="increase120()" style=" font-size : 200px; height:300px; width:350px">
</body>

</html>
